<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="template/survey.xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns="http://java.sun.com/jsf/composite/trigger" xmlns:con="http://java.sun.com/jsf/composite/container" xmlns:f="http://java.sun.com/jsf/core" xmlns:text="http://java.sun.com/jsf/composite/text" xmlns:ques="http://java.sun.com/jsf/composite/question" xmlns:ans="http://java.sun.com/jsf/composite/answer" xmlns:com="http://java.sun.com/jsf/composite/common">
  <ui:param name="progress" value="75"/>
  <ui:define name="template-content">
    <action command="zofar.nothing()" onExit="false" navigator="#{navigatorBean}">
      <scriptItem value="zofar.assign('toReset',zofar.list())"/>
      <scriptItem value="toReset.add('emaa40')"/>
      <scriptItem value="toReset.add('emaa41')"/>
      <scriptItem value="zofar.resetVars(toReset)"/>
    </action>
    <action command="zofar.nothing()" onExit="false" navigator="#{navigatorBean}">
      <scriptItem value="zofar.assign('defrac',zofar.str2jsonArr(zofar.defrac(zofar.list(episodes_fragment_1,episodes_fragment_2,episodes_fragment_3,episodes_fragment_4))))"/>
      <scriptItem value="zofar.assign('episodeObj',zofar.getOrCreateJson(defrac,zofar.toInteger(episode_index.value))) "/>
      <scriptItem value="zofar.assign('toLoad',zofar.list())"/>
      <scriptItem value="toLoad.add('emaa40')"/>
      <scriptItem value="toLoad.add('emaa41')"/>
      <scriptItem value="zofar.getJsonProperties(episodeObj,toLoad)"/>
    </action>
    <action command="zofar.frac(zofar.list(episodes_fragment_1,episodes_fragment_2,episodes_fragment_3,episodes_fragment_4),zofar.jsonArr2str(defrac))" onExit="true" navigator="#{navigatorBean}">
      <scriptItem value="zofar.assign('defrac',zofar.str2jsonArr(zofar.defrac(zofar.list(episodes_fragment_1,episodes_fragment_2,episodes_fragment_3,episodes_fragment_4))))"/>
      <scriptItem value="zofar.assign('episodeObj',zofar.getOrCreateJson(defrac,zofar.toInteger(episode_index.value))) "/>
      <scriptItem value="zofar.assign('toPersist',zofar.map())"/>
      <scriptItem value="toPersist.put('emaa40',emaa40.valueId)"/>
      <scriptItem value="toPersist.put('emaa41',emaa41)"/>
      <scriptItem value="zofar.setJsonProperties('episodeObj',episodeObj,toPersist)"/>
      <scriptItem value="zofar.assign('defrac',zofar.addOrReplaceJson(defrac,episodeObj,zofar.toInteger(episode_index.value)))"/>
    </action>
    <con:section id="nsetaa40" page="true">
      <f:facet name="header">
        <text:text container="true" id="t4">#{msgs['nsetaa40.t4_0']}</text:text>
      </f:facet>
      <ques:singleChoice id="sc">
        <f:facet name="header">
          <text:question container="true" id="q1" rendered="#{zofar.asNumber(emaa01)!=999999 and zofar.asNumber(emaa02)!=999999}">#{msgs['nsetaa40.b.sc.q1_0']}</text:question>
          <text:question container="true" id="q2" rendered="#{zofar.asNumber(emaa01)==999999 or zofar.asNumber(emaa02)==999999}">#{msgs['nsetaa40.b.sc.q2_0']}</text:question>
        </f:facet>
        <ans:radioButtonSingleChoiceResponseDomain direction="vertical" labelPosition="right" value="#{emaa40.valueId}" var="#{emaa40}" id="rd" showValues="false" missingSeparated="true">
          <ans:singleOption itemValue="1" id="ao1" missing="false" rendered="#{zofar.asNumber(emaa39)==1}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao1.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="2" id="ao2" missing="false" rendered="#{zofar.asNumber(emaa39)==1}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao2.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="3" id="ao3" missing="false" rendered="#{zofar.asNumber(emaa39)==1}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao3.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="4" id="ao4" missing="false" rendered="#{zofar.asNumber(emaa39)==1}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao4.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="5" id="ao5" missing="false" rendered="#{zofar.asNumber(emaa39)==2}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao5.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="6" id="ao6" missing="false" rendered="#{zofar.asNumber(emaa39)==2}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao6.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="7" id="ao7" missing="false" rendered="#{zofar.asNumber(emaa39)==2}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao7.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="8" id="ao8" missing="false" rendered="#{zofar.asNumber(emaa39)==2}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao8.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="9" id="ao9" missing="false" rendered="#{zofar.asNumber(emaa39)==2}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao9.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="10" id="ao10" missing="false" rendered="#{zofar.asNumber(emaa39)==2}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao10.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="11" id="ao11" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao11.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="12" id="ao12" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao12.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="13" id="ao13" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao13.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="14" id="ao14" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao14.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="15" id="ao15" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao15.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="16" id="ao16" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao16.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="17" id="ao17" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao17.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="18" id="ao18" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao18.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="19" id="ao19" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao19.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="20" id="ao20" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao20.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="21" id="ao21" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao21.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="22" id="ao22" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao22.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="23" id="ao23" missing="false" rendered="#{zofar.asNumber(emaa39)==3}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao23.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="24" id="ao24" missing="false" rendered="#{zofar.asNumber(emaa39)==4}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao24.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="25" id="ao25" missing="false" rendered="#{zofar.asNumber(emaa39)==4}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao25.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="26" id="ao26" missing="false" rendered="#{zofar.asNumber(emaa39)==4}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao26.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="27" id="ao27" missing="false" rendered="#{zofar.asNumber(emaa39)==4}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao27.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="28" id="ao28" missing="false" rendered="#{zofar.asNumber(emaa39)==4}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao28.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="29" id="ao29" missing="false" rendered="#{zofar.asNumber(emaa39)==5}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao29.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="30" id="ao30" missing="false" rendered="#{zofar.asNumber(emaa39)==5}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao30.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="31" id="ao31" missing="false" rendered="#{zofar.asNumber(emaa39)==5}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao31.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="32" id="ao32" missing="false" rendered="#{zofar.asNumber(emaa39)==5}">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao32.label']}</text:responseOption>
            </f:facet>
          </ans:singleOption>
          <ans:singleOption itemValue="33" id="ao33" missing="true">
            <f:facet name="labels">
              <text:responseOption id="label">#{msgs['nsetaa40.b.sc.rd.ao33.label']}</text:responseOption>
            </f:facet>
            <ans:attachedOpenQuestion id="qo" var="#{emaa41}"/>
          </ans:singleOption>
        </ans:radioButtonSingleChoiceResponseDomain>
      </ques:singleChoice>
      <ques:pretest id="questioncommentnsetaa40">
        <f:facet name="header">
          <text:question container="true" id="textcommentnsetaa40">#{msgs['textcommentnsetaa40_0']}</text:question>
        </f:facet>
        <ans:openResponseDomain id="responsedomain">
          <ans:largeOpenOption rows="3" maxlength="2000" validationMessage="#{msgs['questioncommentnsetaa40']}" columns="100" var="#{commentnsetaa40}" id="response"/>
        </ans:openResponseDomain>
      </ques:pretest>
    </con:section>
  </ui:define>
  <ui:define name="template-left-navigation">
    <com:jumperContainer separator="side"/>
  </ui:define>
  <ui:define name="template-top-navigation">
    <com:jumperContainer separator="top"/>
  </ui:define>
</ui:composition>